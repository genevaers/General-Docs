# RTH file overview {#SACRTH .concept}

## 01 Summary of this topic {#01 .section}

The sections in this topic are as follows:

-   [10 What is an RTH file?](SACRTH.md#10)
-   [20 Example RTH file](SACRTH.md#20)
-   [30 How is an RTH file created?](SACRTH.md#30)
-   [40 Processing for RTH files](SACRTH.md#40)
-   [50 JCL for an RTH file](SACRTH.md#50)
-   [60 COBOL copybook member for RTH file](SACRTH.md#60)
-   [100 Need more on this page?](SACRTH.md#100)

## 10 What is an RTH file? {#10 .section}

RTH file = **Reference formaT Header file**.

This topic assumes you are familiar with topic "**Lookup path overview**". A link to that overview is under **Related concepts** below.

An RTH file is a file generated by SAFR to identify the RED file relevant for each step in each lookup path in the format phase. There is at most one RTH file for a run of PE. If there are no lookup paths used in the format phase, then this file is not created. The only lookup paths in the format phase are for Sort Key Titles, so the RTH file lists RED files required for Sort Key Titles.

A RED file is a file also generated by SAFR to ensure fast processing for a particular step in a lookup path. The are often many RED files created for a run of PE.

MR88 is the program that runs in the format phase and reads both the RTH file and multiple RED files and performs all lookup path processing for that phase. All RED files and the RTH file are stored in memory, which means lookups in MR88 avoid slow input/output operations on reference files.

For a more detailed description of RED and RTH files, see topic "**RED file overview**". A link to that overview is under **Related concepts** below.

## 20 Example RTH file {#20 .section}

The reports for an REH file and RTH file are identical in format, except the **REH** file has "**Extract**" in the heading and the **RTH** file as "**Format**" in the heading.

An example of an MR71 Report for an **REH** file is below:

![](images/MR71RPT_REH_02.GIF)

## 30 How is an RTH file created? {#30 .section}

The RTH file is created by **MR95** in the reference phase.

MR95 creates the RTH file at the same time as creating the RED files.

For a more detailed description of RED and RTH files, see topic "**RED file overview**". A link to that overview is under **Related concepts** below.

## 40 Processing for RTH files {#40 .section}

![](images/RTH_Phases_01.gif)

Processing of RTH files is as follows:

1.  The **RTH** file is created in program **MR95** in the **reference** phase.

    For more, see these topics:

    -   "**Reference phase overview**"
    -   "**MR95 Reference and Extract overview**"
    Links to these overviews are under **Related concepts** below.

2.  Program **MR71** creates a **Reference Report \(Sort Titles\)** that can also be called the RTH Report, because the report includes the contents of the RTH file. MR71 runs in the **reference** phase.

    For more, see these topics:

    -   "**Reference phase overview**"
    -   "**MR71 Reference Report overview**"
    Links to these overviews are under **Related concepts** below.

3.  Program **MR88** formats using the RTH file in the **format** phase.

    For more, see these topics:

    -   "**Format phase overview**"
    -   "**MR88 Format Data overview**"
    Links to these overviews are under **Related concepts** below.


Links to the runbooks for the programs mentioned above are under "**Related Reference**" below.

## 50 JCL for an RTH file {#50 .section}

**MR95 in the reference phase** creates the RTH file with DDNAME **GREFRTH**:

|```
//GREFRTH  DD DSN=&HOUPN..RTH,
//            DISP=(NEW,CATLG,DELETE),
//            UNIT=&UNIT.,
//            SPACE=(TRK,(10,1),RLSE),
//            DCB=(DSORG=PS,RECFM=FB,LRECL=100)
```

|

For RTH files, always use the parameters **DSORG=PS, RECFM=FB, LRECL=100**.Â 

**MR88 in the format phase** reads the RTH file using DDNAME **MR88RTH**:

|```
//MR88RTH  DD DSN=&HISPN..RTH,
//            DISP=SHR              
```

|

## 60 COBOL copybook member for RTH file {#60 .section}

The COBOL layout of the RTH file is given in copybook member **GVBRHRL**. Look for this member in the SAFR copybook dataset in your company.

The field that indicates the RED file number is **RH-EXTR-FILE-NBR**.

## 100 Need more on this page? {#100 .section}

If you need more details to be added to this page, please email **AskSAFR@us.ibm.com** .

**Parent topic:**[SAFR overviews](../html/AAR450Overviews.md)

